import{I as e,z as t,r as s,g as o,K as a,v as n,e as l,x as i,_ as c,S as r,c as d,w as u,D as g,s as p,a as f,L as m,h,b as T,d as y,n as k,M as _,i as x,j as I,o as b,k as v,l as w,m as D,E as C,N as L,t as S,G as O,p as P,F as A,q as R,u as $,O as F}from"./index-CKATG7UM.js";function E(){const e={timestamp:(new Date).toISOString(),storage:{},auth:{},api:{},issues:[],recommendations:[]};try{e.storage={token:o("token"),refreshToken:o("refreshToken"),userInfo:o("userInfo"),isLoggedIn:o("isLoggedIn"),loginTime:o("loginTime")},e.auth={isLoggedInCheck:a(),hasToken:!!e.storage.token,hasRefreshToken:!!e.storage.refreshToken,hasUserInfo:!!e.storage.userInfo,tokenLength:e.storage.token?e.storage.token.length:0,tokenPreview:e.storage.token?e.storage.token.substring(0,20)+"...":null};const s=n();if(e.api={baseUrl:s.BASE_URL,timeout:s.TIMEOUT,historyUrl:`${s.BASE_URL}/documents/history`},e.storage.isLoggedIn||(e.issues.push("ç”¨æˆ·æœªç™»å½•çŠ¶æ€ (isLoggedIn = false)"),e.recommendations.push("éœ€è¦é‡æ–°ç™»å½•")),e.storage.token||(e.issues.push("ç¼ºå°‘JWT Token"),e.recommendations.push("æ£€æŸ¥ç™»å½•æµç¨‹ï¼Œç¡®ä¿tokenæ­£ç¡®ä¿å­˜")),e.storage.isLoggedIn&&!e.storage.token&&(e.issues.push("ç™»å½•çŠ¶æ€ä¸tokenä¸ä¸€è‡´"),e.recommendations.push("æ¸…ç†è®¤è¯çŠ¶æ€å¹¶é‡æ–°ç™»å½•")),e.storage.token&&e.storage.token.length<50&&(e.issues.push("Tokené•¿åº¦å¼‚å¸¸ï¼Œå¯èƒ½ä¸æ˜¯æœ‰æ•ˆçš„JWT"),e.recommendations.push("æ£€æŸ¥ç™»å½•APIå“åº”æ ¼å¼")),e.storage.userInfo||(e.issues.push("ç”¨æˆ·ä¿¡æ¯ç¼ºå¤±"),e.recommendations.push("æ£€æŸ¥ç™»å½•æ—¶ç”¨æˆ·ä¿¡æ¯ä¿å­˜")),e.storage.token)try{3!==e.storage.token.split(".").length&&(e.issues.push("Tokenæ ¼å¼ä¸æ­£ç¡®ï¼Œä¸æ˜¯æ ‡å‡†JWTæ ¼å¼"),e.recommendations.push("æ£€æŸ¥åç«¯è¿”å›çš„tokenæ ¼å¼"))}catch(t){e.issues.push("Tokenè§£æå¤±è´¥")}if(e.storage.loginTime){const t=new Date(e.storage.loginTime),s=(new Date-t)/6e4;e.auth.loginTimeAgo=Math.round(s),s>60&&(e.issues.push(`Tokenå¯èƒ½å·²è¿‡æœŸ (ç™»å½•äº${Math.round(s)}åˆ†é’Ÿå‰)`),e.recommendations.push("å°è¯•åˆ·æ–°tokenæˆ–é‡æ–°ç™»å½•"))}}catch(t){e.issues.push(`è¯Šæ–­è¿‡ç¨‹å‡ºé”™: ${t.message}`)}return e}const M=c({components:{Sidebar:r},data:()=>({records:[],isLoading:!0,filterDocumentTypeIndex:0,filterStatusIndex:0,documentTypeOptions:[{value:"",label:"å…¨éƒ¨ç±»å‹"},{value:"fund_contract",label:"åŸºé‡‘åˆåŒ"},{value:"custody_agreement",label:"æ‰˜ç®¡åè®®"},{value:"prospectus",label:"æ‹›å‹Ÿè¯´æ˜ä¹¦"}],statusOptions:[{value:"",label:"å…¨éƒ¨çŠ¶æ€"},{value:"completed",label:"å·²å®Œæˆ"},{value:"processing",label:"å¤„ç†ä¸­"},{value:"failed",label:"å¤±è´¥"}],pagination:{page:1,pageSize:20,total:0,totalPages:0},deleteOperations:{count:0,lastDeleteTime:0,maxDeletesPerMinute:3}}),methods:{async loadHistory(){this.isLoading=!0;try{console.log("ğŸ” å¼€å§‹è®¤è¯è¯Šæ–­...");if(function(){const e=E();return console.log("ğŸ” ===== è®¤è¯çŠ¶æ€è¯Šæ–­æŠ¥å‘Š ====="),console.log("ğŸ• è¯Šæ–­æ—¶é—´:",e.timestamp),console.log(""),console.log("ğŸ“¦ æœ¬åœ°å­˜å‚¨çŠ¶æ€:"),console.log("  - Token:",e.storage.token?`å­˜åœ¨ (${e.auth.tokenLength}å­—ç¬¦)`:"ä¸å­˜åœ¨"),console.log("  - RefreshToken:",e.storage.refreshToken?"å­˜åœ¨":"ä¸å­˜åœ¨"),console.log("  - ç™»å½•çŠ¶æ€:",e.storage.isLoggedIn),console.log("  - ç”¨æˆ·ä¿¡æ¯:",e.storage.userInfo?"å­˜åœ¨":"ä¸å­˜åœ¨"),console.log("  - ç™»å½•æ—¶é—´:",e.storage.loginTime||"æœªçŸ¥"),console.log(""),console.log("ğŸ” è®¤è¯æ£€æŸ¥ç»“æœ:"),console.log("  - isLoggedIn():",e.auth.isLoggedInCheck),console.log("  - ç™»å½•æ—¶é—´å·®:",e.auth.loginTimeAgo?`${e.auth.loginTimeAgo}åˆ†é’Ÿå‰`:"æœªçŸ¥"),console.log("  - Tokené¢„è§ˆ:",e.auth.tokenPreview||"æ— "),console.log(""),console.log("ğŸŒ APIé…ç½®:"),console.log("  - åŸºç¡€URL:",e.api.baseUrl),console.log("  - å†å²API:",e.api.historyUrl),console.log(""),e.issues.length>0&&(console.log("âŒ å‘ç°é—®é¢˜:"),e.issues.forEach((e,t)=>{console.log(`  ${t+1}. ${e}`)}),console.log("")),e.recommendations.length>0&&(console.log("ğŸ’¡ å»ºè®®æ“ä½œ:"),e.recommendations.forEach((e,t)=>{console.log(`  ${t+1}. ${e}`)})),console.log("================================"),e}().issues.length>0){console.warn("âš ï¸ å‘ç°è®¤è¯é—®é¢˜ï¼Œå°è¯•ä¿®å¤...");const o=function(){console.log("ğŸ”§ å°è¯•ä¿®å¤è®¤è¯é—®é¢˜...");const o=E();return o.storage.isLoggedIn&&!o.storage.token?(console.log("ğŸ§¹ æ¸…ç†ä¸ä¸€è‡´çš„ç™»å½•çŠ¶æ€..."),e("isLoggedIn"),e("userInfo"),e("loginTime"),t({title:"è®¤è¯çŠ¶æ€å¼‚å¸¸",content:"æ£€æµ‹åˆ°è®¤è¯çŠ¶æ€ä¸ä¸€è‡´ï¼Œå·²æ¸…ç†ã€‚è¯·é‡æ–°ç™»å½•ã€‚",showCancel:!1,confirmText:"å»ç™»å½•",success:()=>{s({url:"/pages/login/login"})}}),!0):o.auth.loginTimeAgo&&o.auth.loginTimeAgo>60?(console.log("ğŸ• æ¸…ç†è¿‡æœŸè®¤è¯ä¿¡æ¯..."),e("token"),e("refreshToken"),e("isLoggedIn"),e("userInfo"),e("loginTime"),t({title:"ç™»å½•å·²è¿‡æœŸ",content:"æ‚¨çš„ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•ã€‚",showCancel:!1,confirmText:"å»ç™»å½•",success:()=>{s({url:"/pages/login/login"})}}),!0):(console.log("âœ… æœªå‘ç°å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜"),!1)}();if(o)return}const o={page:this.pagination.page,pageSize:this.pagination.pageSize};this.filterDocumentTypeIndex>0&&(o.documentType=this.documentTypeOptions[this.filterDocumentTypeIndex].value),this.filterStatusIndex>0&&(o.status=this.statusOptions[this.filterStatusIndex].value),console.log("ğŸ“„ åŠ è½½å†å²è®°å½•ï¼Œè¯·æ±‚å‚æ•°:",o);const a=await l(o);if(a){if(this.records=a.records||[],this.pagination={...this.pagination,...a.pagination},console.log("ğŸ“„ å†å²è®°å½•åŠ è½½æˆåŠŸ:",{recordsCount:this.records.length,pagination:this.pagination,responseData:a}),console.log("ğŸ” æ•°æ®ç»“æ„è¯¦ç»†åˆ†æ:"),console.log("  - response.records é•¿åº¦:",a.records?a.records.length:"undefined"),console.log("  - records å®é™…å†…å®¹:",this.records),console.log("  - pagination æ•°æ®:",this.pagination),this.records.length>0){console.log("ğŸ“‹ ç¬¬ä¸€æ¡è®°å½•ç»“æ„:",this.records[0]),console.log("ğŸ“‹ è®°å½•å­—æ®µ:",Object.keys(this.records[0]));const e=this.records[0];console.log("ğŸ” å…³é”®å­—æ®µæ£€æŸ¥:"),console.log("  - status:",e.status),console.log("  - taskId:",e.taskId),console.log("  - id:",e.id),console.log("  - fileName:",e.fileName),console.log("  - documentType:",e.documentType);const t="completed"!==e.status;console.log("  - æŸ¥çœ‹ç»“æœæŒ‰é’®æ˜¯å¦ç¦ç”¨:",t),console.log('  - åˆ¤æ–­æ¡ä»¶: record.status !== "completed"'),console.log("  - å®é™…çŠ¶æ€å€¼:",JSON.stringify(e.status))}0===this.records.length&&(console.log("ğŸ“‹ å½“å‰ç”¨æˆ·æš‚æ— å†å²è®°å½•"),console.log("ğŸ” å¯èƒ½åŸå› ï¼š"),console.log("  1. ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨ï¼Œå°šæœªä¸Šä¼ å’Œå¤„ç†æ–‡æ¡£"),console.log("  2. å†å²è®°å½•å·²è¢«åˆ é™¤"),console.log("  3. ç”¨æˆ·æƒé™é™åˆ¶"),console.log("  4. æ•°æ®åº“ä¸­ç¡®å®æ²¡æœ‰è¯¥ç”¨æˆ·çš„è®°å½•"))}}catch(o){console.error("âŒ åŠ è½½å†å²è®°å½•å¤±è´¥:",o),o.message&&(o.message.includes("401")||o.message.includes("Unauthorized")||o.message.includes("JWT")||o.message.includes("Token"))?(console.error("ğŸ” è®¤è¯é”™è¯¯ï¼Œæ¸…ç†è®¤è¯çŠ¶æ€å¹¶è·³è½¬ç™»å½•"),e("token"),e("refreshToken"),e("isLoggedIn"),e("userInfo"),e("loginTime"),t({title:"è®¤è¯å¤±è´¥",content:"ç™»å½•çŠ¶æ€å·²å¤±æ•ˆï¼Œè¯·é‡æ–°ç™»å½•ã€‚\n\nå¯èƒ½åŸå› ï¼š\nâ€¢ JWT Tokenè¿‡æœŸ\nâ€¢ Tokenæ ¼å¼é”™è¯¯\nâ€¢ ç”¨æˆ·æƒé™ä¸åŒ¹é…",showCancel:!1,confirmText:"é‡æ–°ç™»å½•",success:()=>{s({url:"/pages/login/login"})}})):_(o,{page:"history",action:"loadHistory"})}finally{this.isLoading=!1}},async applyFilters(){this.pagination.page=1,await this.loadHistory()},async changePage(e){this.pagination.page=e,await this.loadHistory()},onDocumentTypeChange(e){this.filterDocumentTypeIndex=e.detail.value},onStatusChange(e){this.filterStatusIndex=e.detail.value},viewRecordDetail(e){"completed"===e.status?this.viewResults(e):p({title:"è¯¥è®°å½•å°šæœªå¤„ç†å®Œæˆ",icon:"none"})},async viewResults(e){console.log("ğŸ” ç‚¹å‡»æŸ¥çœ‹ç»“æœï¼Œè®°å½•ä¿¡æ¯:",e),console.log("ğŸ” è®°å½•çŠ¶æ€:",e.status),console.log("ğŸ” è®°å½•çš„extractionTasks:",e.extractionTasks);let t=null;e.extractionTasks&&e.extractionTasks.length>0?(t=e.extractionTasks[0].id,console.log("ğŸ“¡ ä½¿ç”¨extractionTasks[0].idä½œä¸ºtaskId:",t)):(t=e.taskId||e.id,console.log("ğŸ“¡ å›é€€ä½¿ç”¨record.taskId/idä½œä¸ºtaskId:",t));try{if(f({title:"åŠ è½½ç»“æœä¸­...",mask:!0}),!t)throw new Error("æ— æ³•è·å–ä»»åŠ¡IDï¼Œrecord.extractionTasks[0].idã€record.taskIdå’Œrecord.idéƒ½ä¸ºç©º");console.log("ğŸ“¡ è°ƒç”¨getHistoryResultsApiï¼Œå‚æ•°:",e.id);const s=await T(e.id);if(!s)throw new Error("æ— æ³•è·å–æå–ç»“æœ");{console.log("ğŸ“¥ ä»APIè·å–çš„åŸå§‹ç»“æœ:",s),console.log("ğŸ“¥ åŸå§‹ç»“æœçš„dataå­—æ®µ:",s.data),console.log("ğŸ“¥ åŸå§‹ç»“æœçš„resultå­—æ®µ:",s.result),console.log("ğŸ“¥ åŸå§‹ç»“æœçš„extractedDataå­—æ®µ:",s.extractedData),console.log("ğŸ“¥ åŸå§‹ç»“æœå®Œæ•´ç»“æ„:",JSON.stringify(s,null,2));const o={id:s.id||t,taskId:s.taskId||t,documentId:s.documentId||e.id,status:s.status||"COMPLETED",progress:100,processingTime:s.processingTime||e.processingTime||0,currentStep:"completed",extractedData:s.extractedData||{},extractionSummary:s.extractionSummary||{totalFields:this.getFixedTotalFieldsByType(e.documentType),extractedFields:e.extractedFields||e.extractedFieldsCount||0,documentType:e.documentType,processingTime:e.processingTime||0,averageConfidence:.92,extractionRate:e.extractionRate||0},qualityMetrics:s.qualityMetrics||{averageConfidence:.92,fieldCoverage:e.extractionRate||0,processingTime:e.processingTime||0},documentType:e.documentType,fileName:e.fileName,createdAt:s.createdAt||e.createdAt,completedAt:s.completedAt||e.completedAt||e.updatedAt};console.log("âœ… æ„å»ºå®Œæ•´ç»“æœæ•°æ®ï¼ˆä¸ä¸Šä¼ é¡µé¢æ ¼å¼ä¸€è‡´ï¼‰:",o),console.log("ğŸ” extractedDataç»“æ„:",o.extractedData),y("currentExtractionResults",o),y("currentTaskId",t),h(),k({url:"/pages/results/results"})}}catch(s){h(),console.error("âŒ åŠ è½½æå–ç»“æœå¤±è´¥:",s);const o=t||e.taskId||e.id;o?(console.log("ğŸ”„ å°è¯•é€šè¿‡URLå‚æ•°ä¼ é€’taskId:",o),y("currentTaskId",o),k({url:"/pages/results/results"}),p({title:"æ­£åœ¨é‡æ–°åŠ è½½ç»“æœ...",icon:"loading",duration:2e3})):p({title:"æ— æ³•è·å–ä»»åŠ¡IDï¼Œæ— æ³•åŠ è½½ç»“æœ",icon:"error",duration:3e3})}},async deleteRecord(e){try{const s=Date.now(),o=6e4;if(s-this.deleteOperations.lastDeleteTime>o&&(this.deleteOperations.count=0),this.deleteOperations.count>=this.deleteOperations.maxDeletesPerMinute)return void t({title:"ğŸ›¡ï¸ å®‰å…¨ä¿æŠ¤",content:`ä¸ºäº†é˜²æ­¢è¯¯æ“ä½œï¼Œæ¯åˆ†é’Ÿæœ€å¤šåªèƒ½åˆ é™¤ ${this.deleteOperations.maxDeletesPerMinute} ä¸ªè®°å½•ã€‚\n\nè¯·ç¨åå†è¯•ï¼Œæˆ–è”ç³»ç®¡ç†å‘˜æ‰¹é‡åˆ é™¤ã€‚`,showCancel:!1,confirmText:"æˆ‘çŸ¥é“äº†"});if(!(await new Promise(s=>{t({title:"âš ï¸ å±é™©æ“ä½œ",content:`ç¡®å®šè¦åˆ é™¤æ–‡æ¡£"${e.fileName}"çš„å¤„ç†è®°å½•å—ï¼Ÿ\n\nâš ï¸ æ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤ï¼š\nâ€¢ æå–ç»“æœæ•°æ®\nâ€¢ å¤„ç†å†å²è®°å½•\nâ€¢ ç›¸å…³ç»Ÿè®¡ä¿¡æ¯\n\nåˆ é™¤åæ— æ³•æ¢å¤ï¼`,confirmText:"ç»§ç»­",cancelText:"å–æ¶ˆ",confirmColor:"#ff4757",success:e=>{s(e.confirm)}})})))return;if(!(await new Promise(s=>{t({title:"ğŸ”’ æœ€ç»ˆç¡®è®¤",content:`è¯·å†æ¬¡ç¡®è®¤åˆ é™¤æ“ä½œ\n\næ–‡æ¡£åç§°ï¼š${e.fileName}\nä»»åŠ¡IDï¼š${e.taskId||e.id}\n\nè¿™æ˜¯æœ€åçš„ç¡®è®¤æœºä¼šï¼`,confirmText:"ç¡®è®¤åˆ é™¤",cancelText:"æˆ‘å†æƒ³æƒ³",confirmColor:"#ff4757",success:e=>{s(e.confirm)}})})))return;f({title:"åˆ é™¤ä¸­...",mask:!0});const a=e.id;console.log("ğŸ—‘ï¸ åˆ é™¤è®°å½•ï¼ŒhistoryId:",a,"è®°å½•ä¿¡æ¯:",e),await m(a);const n=this.records.findIndex(e=>e.id===a);n>-1&&(this.records.splice(n,1),this.pagination.total=Math.max(0,this.pagination.total-1),this.pagination.totalPages=Math.ceil(this.pagination.total/this.pagination.pageSize)),this.deleteOperations.count++,this.deleteOperations.lastDeleteTime=Date.now(),h(),p({title:`å†å²è®°å½•åˆ é™¤æˆåŠŸ (${this.deleteOperations.count}/${this.deleteOperations.maxDeletesPerMinute})`,icon:"success"}),console.log("ğŸ”„ åˆ é™¤æˆåŠŸï¼Œåˆ·æ–°å†å²è®°å½•åˆ—è¡¨..."),setTimeout(()=>{this.loadHistory()},500)}catch(s){h(),console.error("åˆ é™¤è®°å½•å¤±è´¥:",s),p({title:"åˆ é™¤å¤±è´¥",icon:"error"})}},getStatusText:e=>({completed:"å·²å®Œæˆ",processing:"å¤„ç†ä¸­",failed:"å¤±è´¥",pending:"ç­‰å¾…ä¸­"}[e]||"æœªçŸ¥"),getDocumentTypeLabel:e=>({fund_contract:"åŸºé‡‘åˆåŒ",custody_agreement:"æ‰˜ç®¡åè®®",prospectus:"æ‹›å‹Ÿè¯´æ˜ä¹¦"}[e]||"æœªçŸ¥ç±»å‹"),formatTime(e){try{return new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(t){return e}},getExtractedFieldsDisplay(e){return`${e.extractedFields||e.extractedFieldsCount||e.fieldsExtracted||0}/${this.getFixedTotalFieldsByType(e.documentType)}`},getProcessingTimeDisplay(e){let t=e.processingTime||e.processTime||e.duration||0;return t>1e3&&(t=Math.round(t/1e3)),t>0?`${t}ç§’`:"æœªçŸ¥"},getFixedTotalFieldsByType:e=>"fund_contract"===e?44:22,handleTranslationPluginIssues(){try{"undefined"!=typeof window&&(window.immersiveTranslate||document.querySelector("[data-immersive-translate]")||document.querySelector(".immersive-translate"))&&(console.warn("âš ï¸ æ£€æµ‹åˆ°æ²‰æµ¸å¼ç¿»è¯‘æ’ä»¶ï¼Œå¯èƒ½å½±å“é¡µé¢æ­£å¸¸è¿è¡Œ"),console.log("ğŸ’¡ å»ºè®®ï¼šåœ¨æ­¤é¡µé¢æš‚æ—¶å…³é—­ç¿»è¯‘æ’ä»¶ä»¥é¿å…å¹²æ‰°"))}catch(e){}},preventTranslationInterference(){try{if("undefined"!=typeof document){document.querySelectorAll(".records-section, .pagination-section, .filter-section").forEach(e=>{e.setAttribute("translate","no"),e.setAttribute("data-immersive-translate-walked","true")})}}catch(e){}},testViewResults(e){var s;console.log("ğŸ§ª æµ‹è¯•æŒ‰é’®ç‚¹å‡» - è®°å½•:",e),console.log("ğŸ§ª æŒ‰é’®æ˜¯å¦åº”è¯¥ç¦ç”¨:","completed"!==e.status),p({title:"æŒ‰é’®ç‚¹å‡»æœ‰æ•ˆï¼",icon:"success"}),"completed"===(null==(s=e.status)?void 0:s.toLowerCase())?this.viewResults(e):t({title:"æ— æ³•æŸ¥çœ‹ç»“æœ",content:`è®°å½•çŠ¶æ€ä¸º: ${e.status}\nåªæœ‰çŠ¶æ€ä¸º"completed"çš„è®°å½•æ‰èƒ½æŸ¥çœ‹ç»“æœ`,showCancel:!1})},addTestRecord(){const e={id:"test-001",taskId:"test-task-001",fileName:"æµ‹è¯•æ–‡æ¡£.pdf",status:"completed",documentType:"custody_agreement",extractedFields:19,extractedFieldsCount:19,processingTime:2.8,createdAt:(new Date).toISOString()};this.records.push(e),console.log("âœ… å·²æ·»åŠ æµ‹è¯•è®°å½•:",e),p({title:"æµ‹è¯•è®°å½•å·²æ·»åŠ ",icon:"success"})}},mounted(){this.preventTranslationInterference()},onLoad(){g()&&(this.handleTranslationPluginIssues(),this.loadHistory())}},[["render",function(e,t,s,o,a,n){const l=I("Sidebar"),i=w,c=x,r=L,g=O;return b(),d(c,{class:"web-layout"},{default:u(()=>[v(l),v(c,{class:"web-content"},{default:u(()=>[v(c,{class:"content-wrapper"},{default:u(()=>[v(c,{class:"page-header fade-in-up"},{default:u(()=>[v(i,{class:"page-title"},{default:u(()=>[D("å¤„ç†å†å²")]),_:1}),v(i,{class:"page-subtitle"},{default:u(()=>[D("æŸ¥çœ‹æ–‡æ¡£å¤„ç†å†å²è®°å½•å’Œç»Ÿè®¡ä¿¡æ¯")]),_:1})]),_:1}),v(c,{class:"history-container"},{default:u(()=>[v(c,{class:"filter-section"},{default:u(()=>[v(c,{class:"filter-card"},{default:u(()=>[v(c,{class:"filter-row"},{default:u(()=>[v(c,{class:"filter-group"},{default:u(()=>[v(i,{class:"filter-label"},{default:u(()=>[D("æ–‡æ¡£ç±»å‹")]),_:1}),v(r,{mode:"selector",value:a.filterDocumentTypeIndex,range:a.documentTypeOptions,"range-key":"label",onChange:n.onDocumentTypeChange},{default:u(()=>[v(c,{class:"picker-view"},{default:u(()=>[v(i,{class:"picker-text"},{default:u(()=>[D(S(a.documentTypeOptions[a.filterDocumentTypeIndex].label),1)]),_:1}),v(i,{class:"picker-arrow"},{default:u(()=>[D("â–¼")]),_:1})]),_:1})]),_:1},8,["value","range","onChange"])]),_:1}),v(c,{class:"filter-group"},{default:u(()=>[v(i,{class:"filter-label"},{default:u(()=>[D("çŠ¶æ€")]),_:1}),v(r,{mode:"selector",value:a.filterStatusIndex,range:a.statusOptions,"range-key":"label",onChange:n.onStatusChange},{default:u(()=>[v(c,{class:"picker-view"},{default:u(()=>[v(i,{class:"picker-text"},{default:u(()=>[D(S(a.statusOptions[a.filterStatusIndex].label),1)]),_:1}),v(i,{class:"picker-arrow"},{default:u(()=>[D("â–¼")]),_:1})]),_:1})]),_:1},8,["value","range","onChange"])]),_:1}),v(c,{class:"filter-group"},{default:u(()=>[v(g,{class:"filter-btn",onClick:n.applyFilters,disabled:a.isLoading},{default:u(()=>[v(i,{class:"btn-text"},{default:u(()=>[D(S(a.isLoading?"æŸ¥è¯¢ä¸­...":"æŸ¥è¯¢"),1)]),_:1})]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),v(c,{class:"records-section",translate:"no"},{default:u(()=>[a.isLoading?(b(),d(c,{key:0,class:"loading-placeholder"},{default:u(()=>[v(i,{class:"loading-text"},{default:u(()=>[D("æ­£åœ¨åŠ è½½å†å²è®°å½•...")]),_:1})]),_:1})):0===a.records.length?(b(),d(c,{key:1,class:"empty-placeholder"},{default:u(()=>[v(i,{class:"empty-icon"},{default:u(()=>[D("ğŸ“„")]),_:1}),v(i,{class:"empty-text"},{default:u(()=>[D("æš‚æ— å¤„ç†è®°å½•")]),_:1}),v(i,{class:"empty-desc"},{default:u(()=>[D("å¼€å§‹ä¸Šä¼ æ–‡æ¡£æ¥åˆ›å»ºå¤„ç†è®°å½•")]),_:1}),v(c,{class:"data-recovery-tip"},{default:u(()=>[v(i,{class:"recovery-title"},{default:u(()=>[D("ğŸ’¡ æ•°æ®æ¢å¤æç¤º")]),_:1}),v(i,{class:"recovery-desc"},{default:u(()=>[D("å¦‚æœæ‚¨ä¹‹å‰æœ‰å¤„ç†è®°å½•ä½†ç°åœ¨çœ‹ä¸åˆ°ï¼Œå¯èƒ½æ˜¯å› ä¸ºï¼š")]),_:1}),v(i,{class:"recovery-item"},{default:u(()=>[D("â€¢ è®°å½•è¢«æ„å¤–åˆ é™¤")]),_:1}),v(i,{class:"recovery-item"},{default:u(()=>[D("â€¢ ç­›é€‰æ¡ä»¶è¿‡äºä¸¥æ ¼")]),_:1}),v(i,{class:"recovery-item"},{default:u(()=>[D("â€¢ ç½‘ç»œè¿æ¥é—®é¢˜")]),_:1}),v(i,{class:"recovery-action"},{default:u(()=>[D("è¯·å°è¯•åˆ·æ–°é¡µé¢æˆ–è”ç³»ç®¡ç†å‘˜æ¢å¤æ•°æ®")]),_:1})]),_:1}),"development"===e.$options.name?(b(),d(c,{key:0,class:"debug-section"},{default:u(()=>[v(i,{class:"debug-title"},{default:u(()=>[D("ğŸ”§ è°ƒè¯•æ¨¡å¼")]),_:1}),v(g,{class:"debug-btn",onClick:n.addTestRecord},{default:u(()=>[D("æ·»åŠ æµ‹è¯•è®°å½•")]),_:1},8,["onClick"])]),_:1})):C("",!0)]),_:1})):(b(),d(c,{key:2,class:"records-list"},{default:u(()=>[(b(!0),P(A,null,R(a.records,e=>(b(),d(c,{class:"record-card",key:e.taskId,onClick:t=>n.viewRecordDetail(e)},{default:u(()=>[v(c,{class:"record-header"},{default:u(()=>[v(c,{class:"record-title"},{default:u(()=>[v(i,{class:"file-name"},{default:u(()=>[D(S(e.fileName),1)]),_:2},1024),v(c,{class:$(["status-badge",e.status])},{default:u(()=>[v(i,{class:"status-text"},{default:u(()=>[D(S(n.getStatusText(e.status)),1)]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024),v(i,{class:"record-time"},{default:u(()=>[D(S(n.formatTime(e.createdAt)),1)]),_:2},1024)]),_:2},1024),v(c,{class:"record-content"},{default:u(()=>[v(c,{class:"record-info"},{default:u(()=>[v(c,{class:"info-item info-type"},{default:u(()=>[v(i,{class:"info-label"},{default:u(()=>[D("æ–‡æ¡£ç±»å‹")]),_:1}),v(i,{class:"info-value"},{default:u(()=>[D(S(n.getDocumentTypeLabel(e.documentType)),1)]),_:2},1024)]),_:2},1024),v(c,{class:"info-item info-fields"},{default:u(()=>[v(i,{class:"info-label"},{default:u(()=>[D("æå–å­—æ®µ")]),_:1}),v(i,{class:"info-value"},{default:u(()=>[D(S(n.getExtractedFieldsDisplay(e)),1)]),_:2},1024)]),_:2},1024),v(c,{class:"info-item info-time"},{default:u(()=>[v(i,{class:"info-label"},{default:u(()=>[D("å¤„ç†æ—¶é—´")]),_:1}),v(i,{class:"info-value"},{default:u(()=>[D(S(n.getProcessingTimeDisplay(e)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),v(c,{class:"record-actions"},{default:u(()=>{var t;return[v(g,{class:"action-btn view-btn",onClick:F(t=>n.viewResults(e),["stop"]),disabled:"completed"!==(null==(t=e.status)?void 0:t.toLowerCase())},{default:u(()=>[v(i,{class:"btn-text"},{default:u(()=>[D("æŸ¥çœ‹ç»“æœ")]),_:1})]),_:2},1032,["onClick","disabled"]),v(g,{class:"action-btn delete-btn",onClick:F(t=>n.deleteRecord(e),["stop"])},{default:u(()=>[v(i,{class:"btn-text"},{default:u(()=>[D("åˆ é™¤")]),_:1})]),_:2},1032,["onClick"])]}),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1}),a.pagination.totalPages>1?(b(),d(c,{key:0,class:"pagination-section",translate:"no"},{default:u(()=>[v(c,{class:"pagination"},{default:u(()=>[v(g,{class:"page-btn",disabled:a.pagination.page<=1,onClick:t[0]||(t[0]=e=>n.changePage(a.pagination.page-1))},{default:u(()=>[v(i,{class:"btn-text"},{default:u(()=>[D("ä¸Šä¸€é¡µ")]),_:1})]),_:1},8,["disabled"]),v(c,{class:"page-info"},{default:u(()=>[v(i,{class:"page-text"},{default:u(()=>[D(S(a.pagination.page)+" / "+S(a.pagination.totalPages),1)]),_:1})]),_:1}),v(g,{class:"page-btn",disabled:a.pagination.page>=a.pagination.totalPages,onClick:t[1]||(t[1]=e=>n.changePage(a.pagination.page+1))},{default:u(()=>[v(i,{class:"btn-text"},{default:u(()=>[D("ä¸‹ä¸€é¡µ")]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-767f0e42"]]);export{M as default};
