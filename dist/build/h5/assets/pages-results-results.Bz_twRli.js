import{_ as e,S as t,c as a,w as s,D as o,g as l,I as i,s as c,J as n,i as d,j as r,o as u,k as f,l as m,m as y,p as g,t as p,E as h,F as _,q as x,u as F,H as D}from"./index-CKATG7UM.js";import{D as v,g as T,a as b,b as S}from"./fund-fields.piuN49H-.js";const k=e({components:{Sidebar:t},data:()=>({documentType:"custody_agreement",taskId:null,isLoading:!0,rawExtractedData:{},extractionSummary:{totalFields:0,extractedFields:0,documentType:"",processingTime:0},custodyData:{fundManagerName:"ä¸­é“¶åŸºé‡‘ç®¡ç†æœ‰é™å…¬å¸",fundManagerOfficeAddress:"åŒ—äº¬å¸‚è¥¿åŸŽåŒºå¤å…´é—¨å†…å¤§è¡—1å·",fundManagerPostalCode:"100818",fundManagerLegalRepresentative:"çŽ‹åœ£æ˜Ž",fundManagerDuration:"æŒç»­ç»è¥",fundManagerOrganizationForm:"æœ‰é™è´£ä»»å…¬å¸",fundCustodianName:"ä¸­å›½å·¥å•†é“¶è¡Œè‚¡ä»½æœ‰é™å…¬å¸",fundCustodianOfficeAddress:"åŒ—äº¬å¸‚è¥¿åŸŽåŒºå¤å…´é—¨å†…å¤§è¡—55å·",fundCustodianPostalCode:"100140",fundCustodianLegalRepresentative:"é™ˆå››æ¸…",fundCustodianDuration:"æŒç»­ç»è¥",fundCustodianOrganizationForm:"è‚¡ä»½æœ‰é™å…¬å¸",custodyAgreementBasis:"ä¾æ®ã€Šä¸­åŽäººæ°‘å…±å’Œå›½è¯åˆ¸æŠ•èµ„åŸºé‡‘æ³•ã€‹ã€ã€Šå…¬å¼€å‹Ÿé›†è¯åˆ¸æŠ•èµ„åŸºé‡‘è¿ä½œç®¡ç†åŠžæ³•ã€‹ç­‰æ³•å¾‹æ³•è§„è®¢ç«‹",fundAssetValuationObject:"åŸºé‡‘æŠ•èµ„çš„å„ç±»è¯åˆ¸åŠç¥¨æ®ä»·å€¼ã€é“¶è¡Œå­˜æ¬¾æœ¬æ¯ã€åŸºé‡‘åº”æ”¶çš„ç”³è´­åŸºé‡‘æ¬¾ç­‰",fundIncomeDistributionMethod:"çŽ°é‡‘åˆ†çº¢ä¸ºä¸»ï¼Œå¯é€‰æ‹©çº¢åˆ©å†æŠ•èµ„",sidePocketIncomeDistribution:"å®žæ–½ä¾§è¢‹æœºåˆ¶æœŸé—´ï¼Œä¸»è¢‹ä»½é¢çš„æ”¶ç›Šåˆ†é…ä¸å—ä¾§è¢‹æœºåˆ¶å½±å“",fundCustodyFee:"å¹´è´¹çŽ‡0.25%",fundManagementFee:"å¹´è´¹çŽ‡1.50%",classAServiceFee:"ä¸æ”¶å–é”€å”®æœåŠ¡è´¹",classCServiceFee:"å¹´è´¹çŽ‡0.40%",classEServiceFee:"å¹´è´¹çŽ‡0.20%",excludedFeeItems:"åŸºé‡‘ç®¡ç†äººå’ŒåŸºé‡‘æ‰˜ç®¡äººå› æœªå±¥è¡Œæˆ–æœªå®Œå…¨å±¥è¡Œä¹‰åŠ¡å¯¼è‡´çš„è´¹ç”¨æ”¯å‡ºæˆ–åŸºé‡‘è´¢äº§çš„æŸå¤±ç­‰"},prospectusData:{fundManagerName:"ä¸­é“¶åŸºé‡‘ç®¡ç†æœ‰é™å…¬å¸",fundManagerOfficeAddress:"åŒ—äº¬å¸‚è¥¿åŸŽåŒºå¤å…´é—¨å†…å¤§è¡—1å·",fundManagerLegalRepresentative:"çŽ‹åœ£æ˜Ž",fundManagerContact:"å¼ å…ˆç”Ÿ",fundManagerCustomerServicePhone:"021-38834999",fundManagerFax:"021-68597222",fundCustodianName:"ä¸­å›½å·¥å•†é“¶è¡Œè‚¡ä»½æœ‰é™å…¬å¸",fundCustodianOfficeAddress:"åŒ—äº¬å¸‚è¥¿åŸŽåŒºå¤å…´é—¨å†…å¤§è¡—55å·",fundCustodianLegalRepresentative:"é™ˆå››æ¸…",fundraisingBasis:"ã€Šä¸­åŽäººæ°‘å…±å’Œå›½è¯åˆ¸æŠ•èµ„åŸºé‡‘æ³•ã€‹ç­‰æ³•å¾‹æ³•è§„",fundraisingPeriod:"2024å¹´1æœˆ15æ—¥è‡³2024å¹´2æœˆ15æ—¥",offeringTime:"2024å¹´1æœˆ15æ—¥9:30-15:00",subscriptionTime:"2024å¹´1æœˆ15æ—¥è‡³2024å¹´2æœˆ14æ—¥",offeringParValue:"äººæ°‘å¸1.00å…ƒ",purchaseOpenDate:"åŸºé‡‘åˆåŒç”Ÿæ•ˆåŽæ¯ä¸ªå·¥ä½œæ—¥9:30-15:00",redemptionOpenDate:"åŸºé‡‘åˆåŒç”Ÿæ•ˆåŽæ¯ä¸ªå·¥ä½œæ—¥9:30-15:00",fundAssetValuationDate:"æ¯ä¸ªå·¥ä½œæ—¥",fundAssetValuationObject:"åŸºé‡‘æŠ•èµ„çš„å„ç±»è¯åˆ¸åŠç¥¨æ®ä»·å€¼ã€é“¶è¡Œå­˜æ¬¾æœ¬æ¯ç­‰",custodianCustodyFee:"å¹´è´¹çŽ‡0.25%",fundSalesServiceFee:"å¹´è´¹çŽ‡0.40%",subscriptionFeeRate:"1.20%",redemptionFeeRate:"0.50%"},extractedFieldsCount:19,processingTime:2.8}),computed:{extractedData(){return"custody_agreement"===this.documentType?this.custodyData:"prospectus"===this.documentType?this.prospectusData:this.custodyData},extractedModules(){return this.rawExtractedData||{}}},methods:{async loadExtractionResults(){var e,t,a;if(this.taskId)try{const s=await n(this.taskId);if(s&&s.extractedData){console.log("æå–ç»“æžœ:",s),s.extractionSummary&&(this.extractedFieldsCount=s.extractionSummary.extractedFields||s.extractionSummary.totalFields,this.processingTime=s.extractionSummary.processingTime?Math.round(s.extractionSummary.processingTime/1e3):(null==(e=s.processingDetails)?void 0:e.totalProcessingTime)||this.processingTime),this.rawExtractedData=s.extractedData||{},console.log("ðŸ” åŽŸå§‹æå–æ•°æ®:",this.rawExtractedData),s.extractionSummary&&(this.extractionSummary={totalFields:s.extractionSummary.totalFields||0,extractedFields:s.extractionSummary.extractedFields||0,documentType:s.extractionSummary.documentType||"",processingTime:s.extractionSummary.processingTime||0},this.extractedFieldsCount=this.extractionSummary.extractedFields,this.processingTime=this.extractionSummary.processingTime,console.log("ðŸ“Š æå–ç»Ÿè®¡ä¿¡æ¯:",this.extractionSummary));const o=s.extractedData;let l={};if(Object.keys(o).forEach(e=>{const t=o[e];t&&"object"==typeof t&&Object.keys(t).forEach(e=>{const a=t[e];a&&a.value&&(l[e]=a.value)})}),s.documentId||s.documentType||(null==(t=s.extractionSummary)?void 0:t.documentType)){const e=(null==(a=s.extractionSummary)?void 0:a.documentType)||s.documentType;console.log("ðŸ” APIè¿”å›žçš„æ–‡æ¡£ç±»åž‹:",e),"fund_contract"===e||e&&e.includes("åŸºé‡‘åˆåŒ")?this.documentType="fund_contract":"custody_agreement"===e||e&&e.includes("æ‰˜ç®¡åè®®")?this.documentType="custody_agreement":"prospectus"===e||e&&e.includes("æ‹›å‹Ÿè¯´æ˜Žä¹¦")?this.documentType="prospectus":this.documentType=e||"custody_agreement",console.log("âœ… APIè®¾ç½®çš„æ–‡æ¡£ç±»åž‹:",this.documentType)}"custody_agreement"===this.documentType?this.custodyData={...this.custodyData,...l}:"prospectus"===this.documentType&&(this.prospectusData={...this.prospectusData,...l})}}catch(s){console.error("åŠ è½½æå–ç»“æžœå¤±è´¥:",s),c({title:"åŠ è½½ç»“æžœå¤±è´¥ï¼Œæ˜¾ç¤ºæ¼”ç¤ºæ•°æ®",icon:"none"})}finally{this.isLoading=!1}else this.isLoading=!1},getRatePercentage(e){if(!e||"string"!=typeof e)return 0;if(e.includes("ä¸æ”¶å–")||e.includes("å…è´¹")||e.includes("æ— "))return 0;const t=e.match(/(\d+\.?\d*)/);if(!t)return 0;const a=parseFloat(t[1]);return Math.min(a/5*100,100)},getFieldsByModule(e){let t=[];return"fund_contract"===this.documentType?t=T():"custody_agreement"===this.documentType?t=b():"prospectus"===this.documentType&&(t=S()),t.filter(t=>t.module===e)},getDocumentTypeLabel(){return this.documentType?"fund_contract"===this.documentType?v.FUND_CONTRACT.label:"custody_agreement"===this.documentType?v.CUSTODY_AGREEMENT.label:"prospectus"===this.documentType?v.PROSPECTUS.label:"æœªçŸ¥ç±»åž‹":""},getFieldValue(e){for(const t in this.rawExtractedData){const a=this.rawExtractedData[t];if(a&&a[e])return this.getFieldDisplayValue(a[e])}return null},getFieldDisplayValue(e){if(!e)return"";if("object"==typeof e){if(void 0!==e.value)return e.value||"";if(e["æå–å†…å®¹"]&&"object"==typeof e["æå–å†…å®¹"]){const t=e["æå–å†…å®¹"];if(void 0!==t.value)return t.value||""}const t=Object.values(e);if(t.length>0){const e=t[0];if("string"==typeof e)return e;if("object"==typeof e&&void 0!==e.value)return e.value||""}return""}return"string"==typeof e?e:e?e.toString():""},organizeFieldsIntoModules(e){console.log("ðŸ”§ å¼€å§‹é‡æ–°ç»„ç»‡åŽç«¯æ•°æ®ç»“æž„...");const t={};if(e.modular_data&&"object"==typeof e.modular_data){console.log("ðŸŽ¯ æ£€æµ‹åˆ° modular_data ç»“æž„ï¼Œæå–æ¨¡å—æ•°æ®..."),console.log("ðŸ” modular_data å†…å®¹:",e.modular_data);let a=e.modular_data;a.value&&"object"==typeof a.value?(console.log("ðŸ“¦ ä½¿ç”¨ modular_data.value è·¯å¾„"),a=a.value):console.log("ðŸ“¦ ç›´æŽ¥ä½¿ç”¨ modular_data è·¯å¾„");for(const[e,s]of Object.entries(a))s&&"object"==typeof s&&(console.log(`ðŸ“¦ å¤„ç†æ¨¡å— [${e}]:`,s),s.value&&"object"==typeof s.value?(console.log(`âœ… æ¨¡å— [${e}] æ•°æ®:`,s.value),t[e]=s.value):"object"!=typeof s||s.value||(console.log(`âš ï¸ æ¨¡å— [${e}] ä½¿ç”¨ç›´æŽ¥æ ¼å¼:`,s),t[e]=s));return console.log("âœ… ä»Ž modular_data æå–å®Œæˆï¼Œç”Ÿæˆæ¨¡å—:",Object.keys(t)),t}console.log("ðŸ”„ æœªæ‰¾åˆ° modular_dataï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æœ‰æ•ˆçš„æå–æ•°æ®...");const a=["doc_type","document_title","doc_type_display"],s=Object.keys(e),o=s.every(e=>a.includes(e));if(console.log("ðŸ” å…ƒæ•°æ®æ£€æŸ¥:",{dataKeys:s,metadataFields:a,hasOnlyMetadata:o}),o){console.log("âš ï¸ æ£€æµ‹åˆ°åªæœ‰å…ƒæ•°æ®ï¼Œæ²¡æœ‰æå–çš„ä¸šåŠ¡å­—æ®µ"),t["æå–çŠ¶æ€"]={"æ•°æ®æå–çŠ¶æ€":"æ­¤è®°å½•å¯èƒ½æ²¡æœ‰å®Œæ•´çš„å­—æ®µæå–æ•°æ®","å¯ç”¨ä¿¡æ¯":"æ–‡æ¡£åŸºæœ¬ä¿¡æ¯å’Œå…ƒæ•°æ®","å»ºè®®æ“ä½œ":"å¦‚éœ€æŸ¥çœ‹å®Œæ•´æå–ç»“æžœï¼Œè¯·é‡æ–°å¤„ç†æ­¤æ–‡æ¡£"};for(const[a,s]of Object.entries(e)){let e=s;s&&"object"==typeof s&&(s["æå–å†…å®¹"]&&void 0!==s["æå–å†…å®¹"].value?e=s["æå–å†…å®¹"].value:void 0!==s.value&&(e=s.value)),t["æ–‡æ¡£ä¿¡æ¯"]||(t["æ–‡æ¡£ä¿¡æ¯"]={});const o={doc_type:"æ–‡æ¡£ç±»åž‹",document_title:"æ–‡æ¡£æ ‡é¢˜",doc_type_display:"æ–‡æ¡£ç±»åž‹æ˜¾ç¤º"}[a]||a;t["æ–‡æ¡£ä¿¡æ¯"][o]=e,console.log(`ðŸ“‹ å…ƒæ•°æ®å­—æ®µ [${o}]: ${e}`)}return console.log("ðŸŽ¯ å…ƒæ•°æ®æ•´ç†å®Œæˆï¼Œç”Ÿæˆæ¨¡å—:",Object.keys(t)),t}console.log("ðŸ”„ ä½¿ç”¨å›žé€€å¤„ç†é€»è¾‘...");const l={"åŸºé‡‘æ‰˜ç®¡äººä¿¡æ¯":["åŸºé‡‘æ‰˜ç®¡äººåç§°","åŸºé‡‘æ‰˜ç®¡äººåŠžå…¬åœ°å€","åŸºé‡‘æ‰˜ç®¡äººé‚®æ”¿ç¼–ç ","åŸºé‡‘æ‰˜ç®¡äººæ³•å®šä»£è¡¨äºº","åŸºé‡‘æ‰˜ç®¡äººç»„ç»‡å½¢å¼","åŸºé‡‘æ‰˜ç®¡äººå­˜ç»­æœŸé—´"],"åŸºé‡‘ç®¡ç†äººä¿¡æ¯":["åŸºé‡‘ç®¡ç†äººåç§°","åŸºé‡‘ç®¡ç†äººåŠžå…¬åœ°å€","åŸºé‡‘ç®¡ç†äººé‚®æ”¿ç¼–ç ","åŸºé‡‘ç®¡ç†äººæ³•å®šä»£è¡¨äºº","åŸºé‡‘ç®¡ç†äººç»„ç»‡å½¢å¼","åŸºé‡‘ç®¡ç†äººå­˜ç»­æœŸé—´"],"åŸºé‡‘åŸºæœ¬ä¿¡æ¯":["åŸºé‡‘åç§°","åŸºé‡‘ç±»åž‹","åŸºé‡‘ä»£ç ","åŸºé‡‘ç®€ç§°","æ–‡æ¡£æ ‡é¢˜"],"åŸºé‡‘è´¹ç”¨":["åŸºé‡‘çš„æ‰˜ç®¡è´¹","åŸºé‡‘çš„ç®¡ç†è´¹","Aç±»åŸºé‡‘çš„é”€å”®æœåŠ¡è´¹","Cç±»åŸºé‡‘çš„é”€å”®æœåŠ¡è´¹","Eç±»åŸºé‡‘çš„é”€å”®æœåŠ¡è´¹","ä¸åˆ—å…¥åŸºé‡‘è´¹ç”¨çš„é¡¹ç›®"],"åè®®å’Œå¤‡æ¡ˆä¿¡æ¯":["æ‰˜ç®¡åè®®çš„ä¿å¯†"],"åŸºé‡‘èµ„äº§åˆ†é…ä¿¡æ¯":["åŸºé‡‘æ”¶ç›Šåˆ†é…æ–¹å¼","åŸºé‡‘èµ„äº§ä¼°å€¼å¯¹è±¡","å®žæ–½å›žè´­æœºåˆ¶æœŸé—´çš„æ”¶ç›Šåˆ†é…"]};for(const[i,c]of Object.entries(e)){let e=!1,a=c;c&&"object"==typeof c&&(c["æå–å†…å®¹"]&&void 0!==c["æå–å†…å®¹"].value?a=c["æå–å†…å®¹"].value:void 0!==c.value&&(a=c.value));for(const[s,o]of Object.entries(l))if(o.includes(i)){t[s]||(t[s]={}),t[s][i]=a,e=!0,console.log(`âœ… å­—æ®µ [${i}] åˆ†é…åˆ°æ¨¡å— [${s}]`);break}e||"modular_data"===i||(t["å…¶ä»–ä¿¡æ¯"]||(t["å…¶ä»–ä¿¡æ¯"]={}),t["å…¶ä»–ä¿¡æ¯"][i]=a,console.log(`â„¹ï¸ å­—æ®µ [${i}] åˆ†é…åˆ°æ¨¡å— [å…¶ä»–ä¿¡æ¯]`))}return console.log("ðŸŽ¯ é‡æ–°ç»„ç»‡å®Œæˆï¼Œç”Ÿæˆæ¨¡å—:",Object.keys(t)),t},getModuleIcon:e=>({"åŸºé‡‘åŸºæœ¬ä¿¡æ¯":"ðŸ“Š","åŸºé‡‘ä»½é¢çš„å‘å”®ä¸Žè®¤è´­":"ðŸ’°","åŸºé‡‘åˆåŒå½“äº‹äºº":"ðŸ‘¥","åŸºé‡‘è¿è¥ä¸ŽæŠ•èµ„":"ðŸ“ˆ","åŸºé‡‘è´¢äº§ä¸Žä¼°å€¼":"ðŸ’Ž","åŸºé‡‘æ”¶ç›Šä¸Žåˆ†é…":"ðŸ’µ","åŸºé‡‘è´¹ç”¨ä¸Žç¨Žæ”¶":"ðŸ’¸","åŸºé‡‘ç®¡ç†äººä¿¡æ¯":"ðŸ¢","åŸºé‡‘æ‰˜ç®¡äººä¿¡æ¯":"ðŸ¦","åè®®ä¾æ®ä¸Žçº¦å®šäº‹é¡¹":"ðŸ“‹","åŸºé‡‘èµ„äº§ä¼°å€¼ä¸Žæ”¶ç›Šåˆ†é…":"ðŸ’°","åŸºé‡‘è´¹ç”¨":"ðŸ’¸","åŸºé‡‘å‹Ÿé›†ä¸Žå‘å”®å®‰æŽ’":"ðŸš€","åŸºé‡‘è¿ä½œä¸Žä¼°å€¼":"âš™ï¸","å…¶ä»–ä¿¡æ¯":"ðŸ“„","æå–çŠ¶æ€":"âš ï¸","æ–‡æ¡£ä¿¡æ¯":"ðŸ“‹"}[e]||"ðŸ“„"),isFeeModule:e=>["åŸºé‡‘è´¹ç”¨ä¸Žç¨Žæ”¶","åŸºé‡‘è´¹ç”¨"].includes(e),isFullWidthField:e=>["æŠ•èµ„ç›®æ ‡","æŠ•èµ„èŒƒå›´","æŠ•èµ„ç­–ç•¥","é£Žé™©æ”¶ç›Šç‰¹å¾","è®¢ç«‹æ‰˜ç®¡åè®®çš„ä¾æ®","åŸºé‡‘èµ„äº§ä¼°å€¼å¯¹è±¡","åŸºé‡‘æ”¶ç›Šåˆ†é…æ–¹å¼","å®žæ–½ä¾§è¢‹æœºåˆ¶æœŸé—´çš„æ”¶ç›Šåˆ†é…","ä¸åˆ—å…¥åŸºé‡‘è´¹ç”¨çš„é¡¹ç›®","ç¨Žæ”¶è¯´æ˜Ž"].includes(e),isFeeRateField:e=>["ç®¡ç†è´¹çŽ‡","æ‰˜ç®¡è´¹çŽ‡","é”€å”®æœåŠ¡è´¹çŽ‡","è®¤è´­è´¹ç”¨","ç”³è´­è´¹ç”¨","èµŽå›žè´¹ç”¨","åŸºé‡‘çš„æ‰˜ç®¡è´¹","åŸºé‡‘çš„ç®¡ç†è´¹","Aç±»åŸºé‡‘çš„é”€å”®æœåŠ¡è´¹","Cç±»åŸºé‡‘çš„é”€å”®æœåŠ¡è´¹","Eç±»åŸºé‡‘çš„é”€å”®æœåŠ¡è´¹","ç”³è´­è´¹çŽ‡","èµŽå›žè´¹çŽ‡","åŸºé‡‘é”€å”®æœåŠ¡è´¹","åŸºé‡‘æ‰˜ç®¡äººçš„æ‰˜ç®¡è´¹"].includes(e),getFieldsStatistic(){if(!this.documentType||0===Object.keys(this.rawExtractedData).length)return"0/0";const e=this.getFixedTotalFields(),t=this.countExtractedFields();return console.log("ðŸ“Š å­—æ®µç»Ÿè®¡è®¡ç®—:",{extractedFields:t,fixedTotalFields:e,extractionSummaryValue:this.extractionSummary.extractedFields,actualCalculated:t}),`${t}/${e}`},getFixedTotalFields(){return"fund_contract"===this.documentType?44:22},getSuccessRate(){if(!this.documentType||0===Object.keys(this.rawExtractedData).length)return 0;const e=this.getFixedTotalFields(),t=this.countExtractedFields();return e>0?Math.round(t/e*100):0},countTotalFields(){let e=0;for(const t in this.rawExtractedData){const a=this.rawExtractedData[t];a&&"object"==typeof a&&(e+=Object.keys(a).length)}return e},countExtractedFields(){let e=0;console.log("ðŸ”¢ å¼€å§‹è®¡ç®—æœ‰æ•ˆæå–å­—æ®µæ•°...");for(const t in this.rawExtractedData){const a=this.rawExtractedData[t];if(a&&"object"==typeof a){console.log(`ðŸ“¦ è®¡ç®—æ¨¡å— [${t}] å­—æ®µæ•°:`,Object.keys(a));for(const t in a){const s=a[t];"string"==typeof s?s&&"æœªè¯†åˆ«"!==s&&"æœªæŠ«éœ²"!==s&&"æœªè®¾ç½®"!==s&&"æœªæå–"!==s&&"æœªæ‰¾åˆ°"!==s&&"æ— "!==s&&"ä¸é€‚ç”¨"!==s&&""!==s.trim()?(e++,console.log(`  âœ… å­—æ®µ [${t}]: ${s} (æœ‰æ•ˆæå–ï¼Œè®¡å…¥ç»Ÿè®¡)`)):console.log(`  âŒ å­—æ®µ [${t}]: ${s} (æ— æ•ˆå€¼ï¼Œä¸è®¡å…¥ç»Ÿè®¡)`):this.isNotDisclosed(s)?console.log(`  âŒ å­—æ®µ [${t}]: è¢«æ ‡è®°ä¸ºæœªæŠ«éœ² (ä¸è®¡å…¥ç»Ÿè®¡)`):(e++,console.log(`  âœ… å­—æ®µ [${t}]: å¤æ‚å¯¹è±¡ (è®¡å…¥ç»Ÿè®¡)`))}}}return console.log("ðŸ”¢ æœ‰æ•ˆæå–å­—æ®µæ€»æ•°:",e),e},isNotDisclosed(e){const t=this.getFieldDisplayValue(e);return!t||null==t||["æœªæŠ«éœ²","æœªæå–","æœªæ‰¾åˆ°","æ— ","ä¸é€‚ç”¨",""].includes(t.toString().trim())},showEmptyState(){console.log("ðŸ”„ è®¾ç½®ç©ºç™½çŠ¶æ€"),this.rawExtractedData={},this.taskId=null,this.documentType="",this.extractionSummary={totalFields:0,extractedFields:0,processingTime:0,documentType:""},this.extractedFieldsCount=0,this.processingTime=0,this.custodyData={},this.contractData={},this.prospectusData={},console.log("âœ… ç©ºç™½çŠ¶æ€è®¾ç½®å®Œæˆ")},loadStoredResults(e){var t,a,s,o,l;console.log("ðŸ” å¤„ç†å­˜å‚¨çš„æå–ç»“æžœ:",e);try{this.taskId=e.id,this.extractedFieldsCount=(null==(t=e.extractionSummary)?void 0:t.extractedFields)||0,this.processingTime=e.processingTime||0,this.extractionSummary={totalFields:(null==(a=e.extractionSummary)?void 0:a.totalFields)||0,extractedFields:(null==(s=e.extractionSummary)?void 0:s.extractedFields)||0,documentType:(null==(o=e.extractionSummary)?void 0:o.documentType)||"unknown",processingTime:e.processingTime||0};let i=e.extractedData||{};if(console.log("ðŸ“‹ åŽŸå§‹åŽç«¯æ•°æ®:",i),i&&"object"==typeof i){if(Object.keys(i).some(e=>/[\u4e00-\u9fa5]/.test(e)&&e.includes("ä¿¡æ¯")))console.log("âœ… æ£€æµ‹åˆ°å·²æ¨¡å—åŒ–çš„æ•°æ®ç»“æž„"),this.rawExtractedData=i;else{console.log("ðŸ”„ æ£€æµ‹åˆ°éžæ¨¡å—åŒ–æ•°æ®ï¼Œå°è¯•é‡æ–°ç»„ç»‡...");const e=this.organizeFieldsIntoModules(i);this.rawExtractedData=e,console.log("ðŸ“¦ é‡æ–°ç»„ç»‡åŽçš„æ¨¡å—æ•°æ®:",this.rawExtractedData)}}else this.rawExtractedData=i;console.log("ðŸ“‹ æœ€ç»ˆæ¨¡å—åŒ–æ•°æ®:",this.rawExtractedData),console.log("ðŸ” è¯¦ç»†æ•°æ®ç»“æž„è°ƒè¯•:"),console.log("ðŸ” rawExtractedData å®Œæ•´ç»“æž„:",JSON.stringify(this.rawExtractedData,null,2)),console.log("ðŸ” rawExtractedData ç±»åž‹:",typeof this.rawExtractedData),console.log("ðŸ” rawExtractedData é”®å€¼:",Object.keys(this.rawExtractedData));for(const e in this.rawExtractedData){console.log(`ðŸ“¦ æ¨¡å— [${e}]:`,this.rawExtractedData[e]),console.log(`ðŸ“¦ æ¨¡å— [${e}] ç±»åž‹:`,typeof this.rawExtractedData[e]);const t=this.rawExtractedData[e];if(t&&"object"==typeof t){console.log(`ðŸ“¦ æ¨¡å— [${e}] çš„é”®:`,Object.keys(t));for(const e in t){const a=t[e];console.log(`  ðŸ·ï¸ å­—æ®µ [${e}]:`,{"åŽŸå§‹æ•°æ®":a,"ç±»åž‹":typeof a,"æ˜¾ç¤ºå€¼":this.getFieldDisplayValue(a)})}}else console.warn(`âš ï¸ æ¨¡å— [${e}] ä¸æ˜¯å¯¹è±¡æˆ–ä¸ºç©º:`,t)}const c=(null==(l=e.extractionSummary)?void 0:l.documentType)||e.documentType;console.log("ðŸ” æ£€æµ‹åˆ°çš„æ–‡æ¡£ç±»åž‹:",c),c&&("fund_contract"===c||c.includes("åŸºé‡‘åˆåŒ")?this.documentType="fund_contract":"custody_agreement"===c||c.includes("æ‰˜ç®¡åè®®")?this.documentType="custody_agreement":"prospectus"===c||c.includes("æ‹›å‹Ÿè¯´æ˜Žä¹¦")?this.documentType="prospectus":this.documentType=c),console.log("âœ… æœ€ç»ˆè®¾ç½®çš„æ–‡æ¡£ç±»åž‹:",this.documentType),console.log("âœ… æå–ç»“æžœåŠ è½½å®Œæˆ")}catch(i){console.error("âŒ å¤„ç†å­˜å‚¨ç»“æžœå¤±è´¥:",i),c({title:"æ•°æ®å¤„ç†å¤±è´¥",icon:"none"})}finally{this.isLoading=!1}}},onLoad(e){if(!o())return;const t=l("currentExtractionResults");if(t)return console.log("ðŸ“¥ ä»Žæœ¬åœ°å­˜å‚¨åŠ è½½æå–ç»“æžœ:",t),this.loadStoredResults(t),void i("currentExtractionResults");let a=!1;if(null==e?void 0:e.taskId)this.taskId=e.taskId,a=!0;else{const e=l("currentTaskId");e&&(this.taskId=e,i("currentTaskId"),a=!0)}a?(console.log("ðŸ“¡ é€šè¿‡taskIdåŠ è½½æå–ç»“æžœ:",this.taskId),this.loadExtractionResults()):(console.log("ðŸ“ æ²¡æœ‰æå–ç»“æžœæ•°æ®ï¼Œæ˜¾ç¤ºç©ºç™½çŠ¶æ€"),this.showEmptyState())}},[["render",function(e,t,o,l,i,c){const n=r("Sidebar"),v=m,T=d;return u(),a(T,{class:"web-layout"},{default:s(()=>[f(n),f(T,{class:"web-content"},{default:s(()=>[f(T,{class:"content-wrapper"},{default:s(()=>[f(T,{class:"page-header fade-in-up"},{default:s(()=>[f(v,{class:"page-title"},{default:s(()=>[y("æå–ç»“æžœ")]),_:1}),f(v,{class:"page-subtitle"},{default:s(()=>[y("æŸ¥çœ‹æ–‡æ¡£æå–ç»“æžœå’Œè¯¦ç»†åˆ†æž")]),_:1})]),_:1}),f(T,{class:"results-container"},{default:s(()=>[f(T,{class:"overview-section"},{default:s(()=>[f(T,{class:"overview-card"},{default:s(()=>[f(T,{class:"overview-header"},{default:s(()=>[f(v,{class:"overview-title"},{default:s(()=>[y("æå–ç»“æžœæ¦‚è§ˆ")]),_:1}),f(T,{class:"overview-stats"},{default:s(()=>[f(T,{class:"stat-item"},{default:s(()=>[f(v,{class:"stat-number"},{default:s(()=>[y(p(c.getFieldsStatistic()),1)]),_:1}),f(v,{class:"stat-label"},{default:s(()=>[y("æå–å­—æ®µ")]),_:1})]),_:1}),f(T,{class:"stat-item"},{default:s(()=>[f(v,{class:"stat-number"},{default:s(()=>[y(p(i.processingTime)+"s",1)]),_:1}),f(v,{class:"stat-label"},{default:s(()=>[y("å¤„ç†æ—¶é—´")]),_:1})]),_:1}),f(T,{class:"stat-item"},{default:s(()=>[f(v,{class:"stat-number"},{default:s(()=>[y(p(c.getSuccessRate())+"%",1)]),_:1}),f(v,{class:"stat-label"},{default:s(()=>[y("æˆåŠŸçŽ‡")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),f(T,{class:"main-info-section"},{default:s(()=>[f(T,{class:"section-title"},{default:s(()=>[f(v,{class:"title-text"},{default:s(()=>[y("æ–‡æ¡£ä¿¡æ¯")]),_:1})]),_:1}),f(T,{class:"info-grid"},{default:s(()=>[f(T,{class:"info-item primary"},{default:s(()=>[f(v,{class:"info-label"},{default:s(()=>[y("æ–‡æ¡£ç±»åž‹")]),_:1}),f(v,{class:"info-value"},{default:s(()=>[y(p(c.getDocumentTypeLabel()),1)]),_:1})]),_:1}),c.getFieldValue("æ–‡æ¡£æ ‡é¢˜")?(u(),a(T,{key:0,class:"info-item primary"},{default:s(()=>[f(v,{class:"info-label"},{default:s(()=>[y("æ–‡æ¡£æ ‡é¢˜")]),_:1}),f(v,{class:"info-value"},{default:s(()=>[y(p(c.getFieldValue("æ–‡æ¡£æ ‡é¢˜")),1)]),_:1})]),_:1})):h("",!0),c.getFieldValue("åŸºé‡‘åç§°")?(u(),a(T,{key:1,class:"info-item primary"},{default:s(()=>[f(v,{class:"info-label"},{default:s(()=>[y("åŸºé‡‘åç§°")]),_:1}),f(v,{class:"info-value"},{default:s(()=>[y(p(c.getFieldValue("åŸºé‡‘åç§°")),1)]),_:1})]),_:1})):h("",!0),c.getFieldValue("åŸºé‡‘ç®¡ç†äººåç§°")?(u(),a(T,{key:2,class:"info-item primary"},{default:s(()=>[f(v,{class:"info-label"},{default:s(()=>[y("åŸºé‡‘ç®¡ç†äºº")]),_:1}),f(v,{class:"info-value"},{default:s(()=>[y(p(c.getFieldValue("åŸºé‡‘ç®¡ç†äººåç§°")),1)]),_:1})]),_:1})):h("",!0),c.getFieldValue("åŸºé‡‘æ‰˜ç®¡äººåç§°")?(u(),a(T,{key:3,class:"info-item primary"},{default:s(()=>[f(v,{class:"info-label"},{default:s(()=>[y("åŸºé‡‘æ‰˜ç®¡äºº")]),_:1}),f(v,{class:"info-value"},{default:s(()=>[y(p(c.getFieldValue("åŸºé‡‘æ‰˜ç®¡äººåç§°")),1)]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1}),(u(!0),g(_,null,x(c.extractedModules,(t,o)=>(u(),a(T,{key:o,class:"module-section"},{default:s(()=>[f(T,{class:"section-title"},{default:s(()=>[f(v,{class:"title-text"},{default:s(()=>[y(p(c.getModuleIcon(o))+" "+p(o),1)]),_:2},1024)]),_:2},1024),c.isFeeModule(o)?(u(),a(T,{key:1,class:"fee-section"},{default:s(()=>[c.isFeeRateField(e.feeFieldKey)?(u(!0),g(_,{key:0},x(t,(e,t)=>(u(),a(T,{key:t,class:"rate-item"},{default:s(()=>[f(T,{class:"rate-header"},{default:s(()=>[f(v,{class:"rate-label"},{default:s(()=>[y(p(t),1)]),_:2},1024),f(v,{class:F(["rate-value",{"no-fee":0===c.getRatePercentage(c.getFieldDisplayValue(e)),"not-disclosed":c.isNotDisclosed(e)}])},{default:s(()=>[y(p(c.getFieldDisplayValue(e)||"æœªè¯†åˆ«"),1)]),_:2},1032,["class"])]),_:2},1024),c.getRatePercentage(c.getFieldDisplayValue(e))>0&&!c.isNotDisclosed(e)?(u(),a(T,{key:0,class:"rate-bar"},{default:s(()=>[f(T,{class:"rate-fill",style:D({width:c.getRatePercentage(c.getFieldDisplayValue(e))+"%"})},null,8,["style"])]),_:2},1024)):0!==c.getRatePercentage(c.getFieldDisplayValue(e))||c.isNotDisclosed(e)?h("",!0):(u(),a(T,{key:1,class:"no-fee-indicator"},{default:s(()=>[f(v,{class:"no-fee-text"},{default:s(()=>[y("å…è´¹")]),_:1})]),_:1})),c.isNotDisclosed(e)?(u(),a(T,{key:2,class:"not-disclosed-indicator"},{default:s(()=>[f(v,{class:"not-disclosed-text"},{default:s(()=>[y("æœªåœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°")]),_:1})]),_:1})):h("",!0)]),_:2},1024))),128)):h("",!0),f(T,{class:"fee-details"},{default:s(()=>[c.isFeeRateField(e.detailFieldKey)?h("",!0):(u(!0),g(_,{key:0},x(t,(e,t)=>(u(),a(T,{key:t,class:"fee-detail-item"},{default:s(()=>[f(v,{class:"fee-detail-label"},{default:s(()=>[y(p(t),1)]),_:2},1024),f(v,{class:F(["fee-detail-value",{"not-disclosed":c.isNotDisclosed(e)}])},{default:s(()=>[y(p(c.getFieldDisplayValue(e)||"æœªè¯†åˆ«"),1)]),_:2},1032,["class"]),c.isNotDisclosed(e)?(u(),a(T,{key:0,class:"not-disclosed-indicator"},{default:s(()=>[f(v,{class:"not-disclosed-text"},{default:s(()=>[y("æœªåœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°")]),_:1})]),_:1})):h("",!0)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)):(u(),a(T,{key:0,class:"details-grid"},{default:s(()=>[(u(!0),g(_,null,x(t,(e,t)=>(u(),a(T,{key:t,class:F(["detail-item",{full:c.isFullWidthField(t)}])},{default:s(()=>[f(v,{class:"detail-label"},{default:s(()=>[y(p(t),1)]),_:2},1024),f(v,{class:F(["detail-value",{"not-disclosed":c.isNotDisclosed(e)}])},{default:s(()=>[y(p(c.getFieldDisplayValue(e)||"æœªè¯†åˆ«"),1)]),_:2},1032,["class"]),e.confidence&&!c.isNotDisclosed(e)?(u(),a(T,{key:0,class:"confidence-indicator"},{default:s(()=>[f(v,{class:"confidence-text"},{default:s(()=>[y("ç½®ä¿¡åº¦: "+p(Math.round(100*e.confidence))+"%",1)]),_:2},1024)]),_:2},1024)):h("",!0),c.isNotDisclosed(e)?(u(),a(T,{key:1,class:"not-disclosed-indicator"},{default:s(()=>[f(v,{class:"not-disclosed-text"},{default:s(()=>[y("æœªåœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°")]),_:1})]),_:1})):h("",!0)]),_:2},1032,["class"]))),128))]),_:2},1024))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-7ca2345f"]]);export{k as default};
