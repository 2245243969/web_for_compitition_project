# æ³¨å†Œæ¥å£å‚æ•°ä¿®æ”¹æŒ‡å—

## ğŸ“‹ ä¿®æ”¹æ¦‚è¿°

æ ¹æ®åç«¯APIè¦æ±‚ï¼Œæ³¨å†Œæ¥å£çš„å‚æ•°ç»“æ„éœ€è¦è¿›è¡Œè°ƒæ•´ï¼Œç§»é™¤ `firstName` å’Œ `lastName` å­—æ®µï¼Œæ·»åŠ  `confirmPassword` å’Œ `agreeTerms` å­—æ®µã€‚

## ğŸ”„ å‚æ•°å˜æ›´å¯¹æ¯”

### ä¿®æ”¹å‰
```javascript
const registerData = {
    email: 'user@example.com',
    password: 'password123',
    username: 'username',
    firstName: 'å',           // âŒ å·²ç§»é™¤
    lastName: 'å§“'             // âŒ å·²ç§»é™¤
}
```

### ä¿®æ”¹å âœ…
```javascript
const registerData = {
    username: 'wyz',                    // âœ… ç”¨æˆ·åï¼Œ2-20å­—ç¬¦
    email: '224524396@qq.com',          // âœ… é‚®ç®±åœ°å€ï¼Œå¿…é¡»å”¯ä¸€  
    password: '2483608zyw',             // âœ… å¯†ç ï¼Œè‡³å°‘6ä½
    confirmPassword: '2483608zyw',      // âœ… æ–°å¢ï¼šç¡®è®¤å¯†ç 
    agreeTerms: true                    // âœ… æ–°å¢ï¼šåŒæ„æ¡æ¬¾
}
```

## âš ï¸ éªŒè¯è§„åˆ™è¯´æ˜

æ ¹æ®åç«¯ä»£ç ï¼Œæ³¨å†Œæ—¶ä¼šè¿›è¡Œä»¥ä¸‹éªŒè¯ï¼š

### 1. ç”¨æˆ·åéªŒè¯
- **é•¿åº¦**: 2-20å­—ç¬¦
- **å”¯ä¸€æ€§**: ä¸èƒ½ä¸ç°æœ‰ç”¨æˆ·é‡å¤
- **æ ¼å¼**: æ— ç‰¹æ®Šæ ¼å¼è¦æ±‚

### 2. é‚®ç®±éªŒè¯  
- **æ ¼å¼**: æœ‰æ•ˆé‚®ç®±æ ¼å¼ (åŒ…å«@å’ŒåŸŸå)
- **å”¯ä¸€æ€§**: ä¸èƒ½ä¸ç°æœ‰ç”¨æˆ·é‡å¤

### 3. å¯†ç éªŒè¯
- **é•¿åº¦**: è‡³å°‘6ä½
- **ä¸€è‡´æ€§**: `password` ä¸ `confirmPassword` å¿…é¡»ä¸€è‡´

### 4. åè®®åŒæ„
- **å¿…å¡«**: `agreeTerms` å¿…é¡»ä¸º `true`

## âœ… å·²å®Œæˆçš„ä¿®æ”¹

### 1. APIå±‚ä¿®æ”¹

**æ–‡ä»¶**: `src/utils/api.js`
```javascript
// ä¿®æ”¹å‰
const requestData = {
    email: registerData.email,
    password: registerData.password,
    username: registerData.username,
    firstName: registerData.firstName || '',
    lastName: registerData.lastName || ''
}

// ä¿®æ”¹å âœ…
const requestData = {
    username: registerData.username,
    email: registerData.email,
    password: registerData.password,
    confirmPassword: registerData.confirmPassword,
    agreeTerms: registerData.agreeTerms
}
```

### 2. ç±»å‹å®šä¹‰ä¿®æ”¹

**æ–‡ä»¶**: `src/types/api.ts`
```typescript
// ä¿®æ”¹å âœ…
export interface RegisterRequest {
  username: string;        // ç”¨æˆ·åï¼Œ2-20å­—ç¬¦ï¼Œå¿…é¡»å”¯ä¸€
  email: string;          // é‚®ç®±åœ°å€ï¼Œå¿…é¡»æ˜¯æœ‰æ•ˆæ ¼å¼ä¸”å”¯ä¸€  
  password: string;       // å¯†ç ï¼Œè‡³å°‘6ä½
  confirmPassword: string; // ç¡®è®¤å¯†ç ï¼Œå¿…é¡»ä¸passwordä¸€è‡´
  agreeTerms: boolean;    // åŒæ„æ¡æ¬¾ï¼Œå¿…é¡»ä¸ºtrue
}
```

### 3. å‰ç«¯é¡µé¢ä¿®æ”¹

**æ–‡ä»¶**: `src/pages/login/login.vue`

#### 3.1 è¡¨å•æ•°æ®ç»“æ„
```javascript
registerForm: {
    username: '',
    email: '',
    password: '',
    confirmPassword: '',
    agreeTerms: false  // âœ… æ–°å¢å­—æ®µ
}
```

#### 3.2 æ·»åŠ åŒæ„æ¡æ¬¾UI
```vue
<!-- åŒæ„æ¡æ¬¾å¤é€‰æ¡† -->
<view class="form-group">
  <label class="checkbox-wrapper agreement-wrapper">
    <checkbox 
      class="checkbox" 
      :checked="registerForm.agreeTerms" 
      @change="onAgreeTermsChange"
    />
    <text class="checkbox-text">
      æˆ‘å·²é˜…è¯»å¹¶åŒæ„
      <text class="link-text" @click="showTerms">ã€Šç”¨æˆ·æœåŠ¡åè®®ã€‹</text>
      å’Œ
      <text class="link-text" @click="showPrivacy">ã€Šéšç§æ”¿ç­–ã€‹</text>
    </text>
  </label>
  <text v-if="registerErrors.agreeTerms" class="error-text">
    {{ registerErrors.agreeTerms }}
  </text>
</view>
```

#### 3.3 éªŒè¯è§„åˆ™æ›´æ–°
```javascript
// ç”¨æˆ·åé•¿åº¦éªŒè¯
if (!this.registerForm.username.trim()) {
    errors.username = 'è¯·è¾“å…¥ç”¨æˆ·å'
} else if (this.registerForm.username.length < 2) {
    errors.username = 'ç”¨æˆ·åè‡³å°‘2ä¸ªå­—ç¬¦'
} else if (this.registerForm.username.length > 20) {  // âœ… æ–°å¢é•¿åº¦ä¸Šé™
    errors.username = 'ç”¨æˆ·åä¸èƒ½è¶…è¿‡20ä¸ªå­—ç¬¦'
}

// åŒæ„æ¡æ¬¾éªŒè¯ 
if (!this.registerForm.agreeTerms) {  // âœ… æ–°å¢éªŒè¯
    errors.agreeTerms = 'è¯·é˜…è¯»å¹¶åŒæ„ç”¨æˆ·æœåŠ¡åè®®å’Œéšç§æ”¿ç­–'
}
```

#### 3.4 äº‹ä»¶å¤„ç†æ–¹æ³•
```javascript
// åŒæ„æ¡æ¬¾é€‰æ‹©å˜åŒ–
onAgreeTermsChange(e) {
    this.registerForm.agreeTerms = e.detail.value.length > 0
},

// æ˜¾ç¤ºç”¨æˆ·æœåŠ¡åè®®
showTerms() {
    uni.showModal({
        title: 'ç”¨æˆ·æœåŠ¡åè®®',
        content: 'è¿™é‡Œæ˜¯ç”¨æˆ·æœåŠ¡åè®®çš„å†…å®¹...',
        confirmText: 'æˆ‘çŸ¥é“äº†'
    })
},

// æ˜¾ç¤ºéšç§æ”¿ç­–  
showPrivacy() {
    uni.showModal({
        title: 'éšç§æ”¿ç­–', 
        content: 'è¿™é‡Œæ˜¯éšç§æ”¿ç­–çš„å†…å®¹...',
        confirmText: 'æˆ‘çŸ¥é“äº†'
    })
}
```

### 4. ç¤ºä¾‹ä»£ç ä¿®æ”¹

**æ–‡ä»¶**: `src/examples/api-usage-examples.js`
```javascript
// å®Œæ•´çš„æ³¨å†Œç¤ºä¾‹ âœ…
const registerData = {
    username: 'wyz',                    // ç”¨æˆ·åï¼Œ2-20å­—ç¬¦
    email: '224524396@qq.com',          // é‚®ç®±åœ°å€ï¼Œå¿…é¡»å”¯ä¸€
    password: '2483608zyw',             // å¯†ç ï¼Œè‡³å°‘6ä½
    confirmPassword: '2483608zyw',      // ç¡®è®¤å¯†ç ï¼Œå¿…é¡»ä¸€è‡´  
    agreeTerms: true                    // åŒæ„æ¡æ¬¾ï¼Œå¿…é¡»ä¸ºtrue
}
```

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### âœ… æ–°å¢åŠŸèƒ½

1. **ç¡®è®¤å¯†ç éªŒè¯**: ç¡®ä¿ç”¨æˆ·è¾“å…¥å¯†ç çš„å‡†ç¡®æ€§
2. **åŒæ„æ¡æ¬¾**: æ³•å¾‹åˆè§„è¦æ±‚ï¼Œç”¨æˆ·å¿…é¡»æ˜ç¡®åŒæ„æœåŠ¡æ¡æ¬¾
3. **ç”¨æˆ·åé•¿åº¦é™åˆ¶**: é˜²æ­¢è¿‡é•¿çš„ç”¨æˆ·åå½±å“æ˜¾ç¤º
4. **åè®®é“¾æ¥**: æä¾›æœåŠ¡åè®®å’Œéšç§æ”¿ç­–çš„æŸ¥çœ‹å…¥å£

### âœ… ä¼˜åŒ–ä½“éªŒ

1. **å®æ—¶éªŒè¯**: è¡¨å•å­—æ®µå®æ—¶éªŒè¯ï¼Œå³æ—¶åé¦ˆé”™è¯¯
2. **å‹å¥½æç¤º**: æ¸…æ™°çš„é”™è¯¯æç¤ºä¿¡æ¯
3. **æ ·å¼é€‚é…**: åŒæ„æ¡æ¬¾åŒºåŸŸçš„ä¸“é—¨æ ·å¼ä¼˜åŒ–
4. **çŠ¶æ€ç®¡ç†**: æ­£ç¡®çš„è¡¨å•çŠ¶æ€ç®¡ç†å’Œé‡ç½®

## ğŸ§ª æµ‹è¯•éªŒè¯

### æˆåŠŸæ³¨å†Œæµ‹è¯•
```javascript
const validRegister = {
    username: 'testuser',
    email: 'test@example.com', 
    password: 'password123',
    confirmPassword: 'password123',
    agreeTerms: true
}
```

### éªŒè¯å¤±è´¥æµ‹è¯•
```javascript
// 1. ç”¨æˆ·åè¿‡çŸ­
{ username: 'a', ... }  // é”™è¯¯: ç”¨æˆ·åè‡³å°‘2ä¸ªå­—ç¬¦

// 2. ç”¨æˆ·åè¿‡é•¿
{ username: 'verylongusernamethatexceeds20chars', ... }  // é”™è¯¯: ä¸èƒ½è¶…è¿‡20ä¸ªå­—ç¬¦

// 3. å¯†ç ä¸ä¸€è‡´
{ password: 'pass1', confirmPassword: 'pass2', ... }  // é”™è¯¯: ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´

// 4. æœªåŒæ„æ¡æ¬¾
{ agreeTerms: false, ... }  // é”™è¯¯: è¯·é˜…è¯»å¹¶åŒæ„ç”¨æˆ·æœåŠ¡åè®®å’Œéšç§æ”¿ç­–
```

## ğŸ“± UIå±•ç¤º

æ³¨å†Œè¡¨å•ç°åœ¨åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

1. **ç”¨æˆ·å** - æ–‡æœ¬è¾“å…¥æ¡† (2-20å­—ç¬¦)
2. **é‚®ç®±** - é‚®ç®±è¾“å…¥æ¡† (éªŒè¯æ ¼å¼)
3. **å¯†ç ** - å¯†ç è¾“å…¥æ¡† (è‡³å°‘6ä½ï¼Œå¸¦æ˜¾ç¤ºåˆ‡æ¢)
4. **ç¡®è®¤å¯†ç ** - å¯†ç è¾“å…¥æ¡† (ä¸å¯†ç ä¸€è‡´ï¼Œå¸¦æ˜¾ç¤ºåˆ‡æ¢)
5. **åŒæ„æ¡æ¬¾** - å¤é€‰æ¡† + åè®®é“¾æ¥ (å¿…é¡»å‹¾é€‰)
6. **æ³¨å†ŒæŒ‰é’®** - æäº¤æŒ‰é’® (éªŒè¯é€šè¿‡åå¯ç‚¹å‡»)

## ğŸ’¡ æ³¨æ„äº‹é¡¹

### 1. å‘åå…¼å®¹
- APIå±‚åšäº†å…¼å®¹å¤„ç†ï¼Œæ”¯æŒæ–°æ—§æ ¼å¼
- å‰ç«¯å®Œå…¨ä½¿ç”¨æ–°æ ¼å¼ï¼Œç¡®ä¿ä¸åç«¯ä¸€è‡´

### 2. ç”¨æˆ·ä½“éªŒ
- åŒæ„æ¡æ¬¾ä½¿ç”¨æ¨¡æ€æ¡†å±•ç¤ºï¼Œå®é™…é¡¹ç›®ä¸­åº”é“¾æ¥åˆ°å®Œæ•´é¡µé¢
- é”™è¯¯æç¤ºæ¸…æ™°æ˜ç¡®ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿå®šä½é—®é¢˜

### 3. å®‰å…¨æ€§
- å‰ç«¯éªŒè¯ä¸»è¦ç”¨äºç”¨æˆ·ä½“éªŒï¼Œå®‰å…¨éªŒè¯ä¾ç„¶åœ¨åç«¯
- å¯†ç ç¡®è®¤å‡å°‘ç”¨æˆ·è¾“å…¥é”™è¯¯çš„å¯èƒ½æ€§

### 4. æ³•å¾‹åˆè§„
- ç”¨æˆ·æ³¨å†Œå¿…é¡»æ˜ç¡®åŒæ„æœåŠ¡æ¡æ¬¾
- å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æä¾›å®Œæ•´çš„æ³•å¾‹æ–‡ä»¶é“¾æ¥

---

**ä¿®æ”¹æ—¶é—´**: 2025-01-15  
**å½±å“èŒƒå›´**: ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½  
**å…¼å®¹æ€§**: ä¸åç«¯APIå®Œå…¨å…¼å®¹  
**çŠ¶æ€**: âœ… ä¿®æ”¹å®Œæˆï¼Œå¯ç›´æ¥ä½¿ç”¨

